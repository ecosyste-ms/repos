<div class="container-sm">
  <div class="row mb-4">
    <div class="col-md-2 col-6 mb-3">
      <div class="card text-center">
        <div class="card-body">
          <h4 class="card-title text-primary mb-1"><%= number_with_delimiter @hosts.length %></h4>
          <p class="card-text small text-muted mb-0"><%= Host.model_name.human(count: 2) %></p>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-6 mb-3">
      <div class="card text-center">
        <div class="card-body">
          <h4 class="card-title text-success mb-1"><%= number_with_delimiter @hosts.sum(&:repositories_count) %></h4>
          <p class="card-text small text-muted mb-0"><%= Repository.model_name.human(count: 2) %></p>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-6 mb-3">
      <div class="card text-center">
        <div class="card-body">
          <h4 class="card-title text-warning mb-1"><%= number_with_delimiter @hosts.sum(&:owners_count) %></h4>
          <p class="card-text small text-muted mb-0"><%= Owner.model_name.human(count: 2) %></p>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-6 mb-3">
      <div class="card text-center">
        <div class="card-body">
          <h4 class="card-title text-info mb-1"><%= number_with_delimiter Tag.fast_total %></h4>
          <p class="card-text small text-muted mb-0"><%= Tag.model_name.human(count: 2) %></p>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-6 mb-3">
      <div class="card text-center">
        <div class="card-body">
          <h4 class="card-title text-secondary mb-1"><%= number_with_delimiter Manifest.fast_total %></h4>
          <p class="card-text small text-muted mb-0"><%= Manifest.model_name.human(count: 2) %></p>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-6 mb-3">
      <div class="card text-center">
        <div class="card-body">
          <h4 class="card-title text-dark mb-1"><%= number_with_delimiter Dependency.fast_total %></h4>
          <p class="card-text small text-muted mb-0"><%= Dependency.model_name.human(count: 2) %></p>
        </div>
      </div>
    </div>
  </div>

  <% @hosts.group_by(&:kind).each do |kind, hosts| %>
    <div class="card mb-3">
      <div class="card-header">
        <img src="<%= hosts.first.kind_icon_url %>" class="me-1 pull-left" height='20' width='20' onerror="this.style.display='none'">
        <%= link_to t(kind), kind_hosts_path(kind), class: 'text-decoration-none' %>
        <span class="text-black-50">
          <%= number_with_delimiter(hosts.length) %> <%= t('virtual.models.instance', count: hosts.length) %> -
          <%= number_with_delimiter(hosts.sum(&:repositories_count)) %> <%= Repository.model_name.human(count: hosts.sum(&:repositories_count)) %>
        </span>
      </div>
       <ul class="list-group list-group-flush">
        <% hosts.first(20).each do |host| %>
          <li class="list-group-item">
            <%= link_to host.name.downcase, host %>
            <span class="text-black-50">
              <%= number_with_delimiter(host.repositories_count) %> <%= Repository.model_name.human(count: host.repositories_count) %>
            </span>
          </li>
        <% end %>
      </ul>
      <% if hosts.length > 20 %>
          <div class="card-footer">
            <%= link_to t('and_more', count: hosts.length - 20), kind_hosts_path(kind) %>
          </div>
        <% end %>
    </div>
  <% end %>
</div>
